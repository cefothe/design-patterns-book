#summary Как да създадем UML диаграма, готова за включване в електронната и печатната версия на книгата.

<wiki:toc />

UML диаграмите, включени в книгата, трябва да отговарят на определени изисквания, така че да изглеждат добре не само в електронната, но и в печатната версия на книгата. Допълнително, това осигурява консистентност между главите.

= Софтуер =
UML диаграмите се създават с [http://www.visual-paradigm.com/download/vpuml.jsp?edition=ce Visual Paradigm for UML Community Edition], който е безплатен, с основното ограничение, че експортира диаграмите към картинка с вграден воден знак (watermark) - това ограничение обаче лесно може да се заобиколи.


= Изисквания към съдържанието =
Всички елементи в UML диаграмите трябва да са с *прозрачен стил*. За целта, след добавяне на елементи към диаграмите, трябва да го приложите от контекстното меню на елемента, `Styles and Formatting -> Transparent` 
[http://design-patterns-book.googlecode.com/svn/wiki/images/UmlDiagrams/TransparentSyle.png]

= Избягване на водния знак =
Ограничението не важи, когато в проекта има само една диаграма. За тази цел:
 # Стартираме втора инстанция на Visual Paradigm (предполага се, че основният проект с диаграмите е вече отворен), в която ще отворим временен проект. 
 # При зареждането избираме различен namespace от текущия. 
 # От основния проект, от контекстното меню на желаната диаграма избираме `Export -> XML` и избираме директория за резултата
 # Импортираме резултата във временния проект от командата `File -> Import -> XML`
 # Експортираме резултата към картинка с минимален воден знак (който лесно може да бъде изрязан от резултата) от контекстното меню на диаграмата, `Export ->  Export as Image`

= Настройки за правилно експортиране =
При експортиране на диаграмата от временния проект, като настройки избираме:
 * *Export type:* PNG without background - това осигурява прозрачен фон.
 * *dpi:* 300 - това ще осигури качество на картинката при печат на хартия.
 * *Export image with frame:* Export with frame - това ще ни осигури, че водният знак е в рамка, която след това можем да изрежем.

[http://design-patterns-book.googlecode.com/svn/wiki/images/UmlDiagrams/ExportDiagrams.png]

_Забележка:_ При последващо изрязване на водния знак, проверете че запазвате картинката отново като PNG с прозрачен фон и с резолюция 300 dpi. Подходящ софтуер за изрязването е [http://www.getpaint.net/ Paint.NET] или [http://www.gimp.org/ GIMP].

= Размер =
За да може да се побере на една страница от книгата без преоразмеряване, картинката трябва да е не по-голяма от *507x739 пиксела*. Ориентировъчен финален размер на картинката можете да проверите в диалога за експортиране.

_Забележка:_ Тъй като експортирате диаграмата с резолюция 300 dpi, полученият файл ще бъде с размери около 3 пъти по-големи от посочените в диалога за експорт. Това не трябва да ви притеснява - Word е достатъчно умен и, след като засече че картинката е с резолюция 300dpi, я вкарва в документа с оригиналните размери.